CREATE DATABASE CNMS;

------------------------------------------------------------------------------------------------------------------------------------------------------------

USE CNMS

------------------------------------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE Users (
	id INT AUTO_INCREMENT PRIMARY KEY,
	username VARCHAR(50) UNIQUE NOT NULL,
	password VARCHAR(255) NOT NULL
);

------------------------------------------------------------------------------------------------------------------------------------------------------------

INSERT INTO Users (
	username,
	password
)
VALUES (
	'user1',
	'pass1'
);

------------------------------------------------------------------------------------------------------------------------------------------------------------

INSERT INTO Users (
	username,
	password
)
VALUES (
	'user2',
	'pass2'
);

------------------------------------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE DietaryLogs (
	id INT AUTO_INCREMENT PRIMARY KEY,
	date DATE,
	calories_consumed INT,
	calorie_goal INT,
	user_id INT,
	FOREIGN KEY (user_id) REFERENCES Users(id)
);

------------------------------------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE GroceryList (
	id INT AUTO_INCREMENT PRIMARY KEY,
	item VARCHAR(100),
	user_id INT,
	FOREIGN KEY (user_id) REFERENCES Users(id)
);

------------------------------------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE CNMSMeals (
	username VARCHAR(50),
	meal_name VARCHAR(100),
	ingredients TEXT,
	calories INT,
	FOREIGN KEY (username) REFERENCES Users(username) ON DELETE CASCADE
);

------------------------------------------------------------------------------------------------------------------------------------------------------------

